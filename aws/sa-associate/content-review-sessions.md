# Content Review February 1st, 2023
David Chong (Enablement management)
- AWS organizations: service control policies: type of organization policy that you can use to manage permissions in your organization. Offer central controls & makes sure accounts stay w/n org's access control guidelines 
- 6 types of policies
    - identity-based policy: IAM
    - resource-based policy: e.g., S3, KMS, etc. Attached to resources & attached to resource in the console of that resource
        - specifies which principal can use that resource
    - permissions boundaries
    - organizations SCPs: Organizations Service Control Policies
    - ACLs
    - session policies 
- evaluating policies: start w deny. if there's a deny anywhere in the chain, then it's deny. Chain looks through explicit deny > aws orgs > resource based policies > IAM permissions boundary > session policies > identity-based policies
- arn format: arn:partition:service:region:account-id: resource-id | resource-type/resource-id | resource-type:resource-id
- https://aws.amazon.com/s3/storage-classes-infographic/ good to know details on S3. 11 9's durability for all classes 
- s3 access points: able to make policies for each access point

# Content Review February 8th, 2023
- memcached: sub-millisecond latency, data partitioning, multi-threaded. Meant to be simpler
- redis: sub-millisecond latency, data partitioning, advanced data structures, snapshots, replication, transactions, Pub/Sub. NOT multi-threaded 
- DynamoDB: key-value. If that comes up on the exam, likely to narrow down the options (DAX, dynamoDB accelerator to up to 10x performance for DDB)

# Content Review February 15th, 2023
- AWS storage gateway
    - set of hybrid cloud storage services: take on-prem apps, and take advantage of 'unlimited' cloud storage 
    - use cases
        - migrations (move backups to cloud)
        - modernization: use on-prem file shares backed up by cloud storage
        - continuous reinvention: low-latency access for on-prem apps to cloud data 
    - gateway types (file, tape, volume)
        - S3 file gateway: native file access to S3 for backups, archives, and ingest for data lakes
        - Amazon FSx file gateway: native access to Amazon FSx for on-prem group file shares and home dirs 
            - windows, luster, netapp ontap, openzfs 
        - Tape Gateway: drop-in replacement for physical tape infrastructure 
        - Volume Gateway: block storage volumes w snapshots, AWS backup integration, and cloud recovery
- EC2 AMIs
    - supported & maintained image provided by AWS that provides information required to launch instance 
    - key topics
        - EBS-backed AMI: (most common) root device is an EBS volume created from EBS snapshot
        - instance-stored backed AMI: (ephemeral) 0olroot device for instance is instance store volume created from template stored in S3 
- EC2 Instance Metadata
    - data about instance that can be used to configure or manage the running instance
    - Retrieve instance metadata from IPv4 URI: http://169.254.169.254/latest/meta-data
- AWS Security Groups
    - firewall for associated instances (and other services, like ELB, RDS, etc)
    - stateful
    - can only specify allow rules
    - all rules evaluated at once 
- NACLs
    - firewall for associate subnets, controlling inbound and outbound traffic at subnet level
    - stateless
    - has separate inbound & outbound rules and each rule can either allow or deny traffic
    - contains a numbered list of rules which are evaulated in order 
- KMS encryption 
    - managed services that makes it easy to create & control cryptographic keys that are used protect data
    - provides the ability to create symmetric and asymmetric encryption keys
    - uses hardware security modules that have been validated under FIPS 140-2, or are in the process of being validated, to protect keys 
    - two types of keys 
        - AWS-managed CMK (customer master key)
            - cannot be deleted
            - if lost, cannot be restored
        - Customer-managed CMK 
            - can be deleted
    - keys are regional, and can be modified to be global
- EBS encryption 
    - boot and data volumes of EC2 instances can be encrypted
    - protected data: data at rest in volume, data moving b/w volume & instance, snapshots created from volume, volumes created from those snapshots 
    - other considerations
        - when encrypting EBS resource, by default, encrypted by account's default KMS key unless a different CMK is specified 
            - recommended to have several keys for various systems
- AWS Monitoring and Alerting
    - Amazon CloudWatch
        - monitoring and management service that provides data & actionable insights for AWS, hybrid, and on-prem apps & infrastructure resources (can download agent for on-prem resources)
        - cloudwatch metrics provided automatically for many AWS products + services
        - can monitor custom metrics generated by apps & services
        - cloudwatch logs
            - monitor and troubleshoot systems and apps using existing system, app & custom log files
        - collect > monitor > act > analyze 
    - Amazon EventBridge
        - serverless event bus service that can be used to connect apps w data from various sources
            - used to queue information 
        - "takes you from where you are to where you want to go"
        - receives an event (indicator of change in environment), and applies a rule to route the event to a target. 
        - rules match events to targets based on either structure of event (event pattern) or schodule
- AWS Security
    - Amazon CloudTrail
        - continuously monitors and retains account activity related to actions across AWS infrastructure, giving control over storage, analysis, and remediation actions
        - 'breadcrumb trail'
        - use cases
            - audit activity
            - identify security incidents 
                - detect unauthorized access using the Who, What and When information in CloudTrail Events
        - key concepts
            - records user activity and API usage across AWS services as Events
            - "who did what, where and when?"
    - Amazon WAF
        - protects web apps from attacks by configuring rules that allow, block, or monitor (count) web requests based on defined conditions 
        - deployment options
            - CloudFront, ALB, API Gateway
        - create rules that block bot traffic and common attack patterns such as SQL injection or cross-site scripting
    - Amazon Shield
        - Standard
            - defends against most common, frequently occuring network & transport layer DDoS attack that target web site or apps
        - Advanced
            - managed threat protect that blocks DDoS attacks, vulnerability exploitation, and bad bots
            - includes AWS WAF & AWS Firewall Manager at no add'l cost
    - Amazon Macie
        - evaluate S3 environment & provide S3 resource summary across all customer's accounts 
        - uses ML to identify PII ("Macie loves PII")
            - doesn't look at data specifically, but looks at type of data & flags for review 
        - easy to turn on
    - Amazon GuardDuty
        - monitors AWS accounts and workloads for malicious activity & delivers detailed security findings for visibility and remediation
        - operates independently from resources (no performance or availability degredation)
        - pay as you go pricing; only pay as events are analyzed 
        - key concept: analyzes CloudTrail, VPC flow logs, and AWS DNS logs
    - Amazon Inspector
        - continually scans EC2 and container workloads for software vulnerabilities and unintended network exposure 
        - key concept: automated vulnerability management service that continuall scans EC2 and container workloads (like a dock inspector)
        - integrates w security hub, eventbridge, ECR

# Content Review February 22nd, 2023
- networking fundamentals week 
- VPC: logically isolated section of AWS cloud 
    - OSI model: 'Please Do Not Touch Steve's Pet Alligator' 
        - Physical - Data - Network - Transport - Session - Presentation - Application layers 
    - route tables direct traffic out of VPC toward
        - IGW
        - VPG
        - VPCe
        - Direct Connect (DC)
        - VPC peering
        - Transite Gateway (TG)
    - subnets named public when connected to IGW
- VPC endpoints
    - interface endpoint
        - collection of interfaces w private IP addresses that allows access to specific services to keep traffic within private network
        - entry point of traffic to supported service, requires an ENI
            - connect to services like API gateway, CFN, CloudWatch/Events/Logs, etc - lots and lots of services 
        - uses privatelink 
    - gateway endpoint
        - targets specific IP routes in VPC route table, in form of prefix list, for traffic to DynamoDB or S3 
        - does *NOT* use privatelink 
- VPC peering
    - routing governed with rout tables; not all subnets need to connect to each other 
- Route53
    - 100% availability SLA
    - features
        - DNS failover
        - latency-based routing
        - geo-based routing
        - weighted round robin 
- Direct Connect (DX): securely link on-prem env to AWS
    - connect w 1/10 Gb ethernet fiber-optic connection 
    - at volume, over time, more affordable than snowmobile 
    - often used for hybrid connections, and can also be used for data transfers 
    - several weeks to a few months to set up DX, since it's a physical connection that needs to be laid 
        - shorter timeframe: use AWS snow family or S3 transfer accelerator
    - adding redundancy
        - BGP routing for redundancy
            - border gateway protocol (aka best gate protocol)
        - AWS VPN can also be used as a backup path 
        - can have multiple DX connections to different AWS sites for HA (double the cost though)
    - DX gateway
        - can connect to multiple VPCs
- Transit Gateway 
    - can connect 1000's of VPCs
    - can connect VPCs and on-prem w single gateway (via DX gateway)
    - hub-and-spoke design 
        - hub tells spokes where to go
    - up to 50 Gbps per VPC connection (burst connection)
- Global Accelerator: improve availability & performance of global services 
    - client traffic ingresses via closest available Edge location to get them into AWS network 

# Content Review March 1st, 2023 (Creighton in again) (+15 minutes)
- decoupling and messaging 
    - SQS
        - fully-managed message queue 
        - enables decoupling & scaling
        - Queue Types
            - FIFO (first in first out)
                - support up to 300 TPS (transactions per second) w/o batching & 3,000 TPS w batching 
                - enahnce messages b/w apps when order of ops is critical
            - Standard queue
                - support unlimited throughput by adding as many concurrent producers as needed 
                - app must be able to process messages that arrive more than once and out of order 
    - SNS
        - fully managed pub/sub messaging, SMS, email, mobile push notifications
        - fully-managed messaging service for app-to-app and app-to-person communication
        - benefits
            - simplify + reduce costs w message filtering & batching
            - ensure accuracy w message ordering and deduplication
            - capture & fan out events from AWS services
                - fanout scenario
                    - when a message published to SNS topic is replicated and pushed to multiple endpoints, like KDA, SQS, HTTP(S) endpoints, lambda functions 
                    - allows for parallel asynchronous processing 
    - Lambda
        - run code w/o thinking about servers 
        - serverless, event-driven compute service 
        - can be triggered from 200+ AWS services & SaaS 
        - only pay for what is used 
        - execution models
            - synchronous (push) - could use API gateway
            - asynchronous (event) - could come from SNS or S3
            - stream (poll-based) - could use DDB streams, Kinesis
        - memory considerations
            - amount of memory also determines the amount of virtual CPU 
            - adding more mem proportionally increases amount of CPU
            - if function is CPU-, network-, or mem- bound, changing mem settings can dramatically improve performance 
        - function timeout
            - max invocation timeout limit is 15 minutes
            - verify function has enough CPU/network/mem
            - (optional) configure provisioned concurrency
                - initialized a requested number of runtime envs so that they're prep'd to respond immediately to function invocation
    - API gateway
        - create, publish, maintain, monitor, secure REST, HTTP, websocket APIs at any scale
        - create REST APIs
            - made up of resources and methods
                - resource
                    - logical entity that app can access thru resource path
                - method
                    - corresponds to REST API request submitted by user of API & request returned to user
            - more features: API keys, per-client throttling, request validation, WAS integration, private API endpoints 
        - create HTTP APIs
            - enable creation of RESTful APIs w lower latency + lower cost than REST APIs
            - use to send requests to AWS lambda functions or any publicly routable HTTP endpoint 
            - designed w minimal features vs REST APIs to be cheaper 
        - create WebSocket API
            - client & server can both send messages to each other at any time 
    - DynamoDB
        - fully managed, serverless, key-value noSQL db designed to run high-performance apps 
        - DDB Streams
            - DDB supports streaming of item-level change data capture records in near-real time
            - apps can be built to consume these streams & take actions 
            - optional feature that captures data mod events 
            - use w lambda to create trigger based on specific events occur in stream 
    - AWS AppSync
        - creates serverless GraphQL and Pub/Sub APIs that simplify app dev thru single endpoint to securely query, update, publish data 
    - AWS Step Functions
        - fully-managed service that simplifes coordination of components for distributed apps & microservices using visual workflows 
- Amazon Cognito
    - simple + secure user sign-up, sign-in and access control
    - provides authentication, authorization, user management for web + mobile apps 
    - can be used w third part login providers
    - when to use 
        - enable users to authenticate w user pool directly or federate w IdP (third-party identity partner)
- Analytics
    - data processing on AWS
        - batch processing
            - latency significantly longer
            - computes results derived from all the data it encompasses, and enables deep analysis of big data sets
        - stream processing
            - requires ingesting a sequence of data and incrememntally updating metrics, reports, and summary stats in response to each arriving data record
            - better for real-time monitoring & response functions 
    - Amazon Kinesis
        - collect, process, analyze video and data streams in real time
        - Data Streams (KDS)
            - capture, process, store data streams in real time
            - scalable and durable real-time streaming service
            - continuously capture gigabytes of data per second from 100s-1000s of services
        - Video Streams (KVS)
            - capture, process, store video in real time
            - easy to securely stream video from connected devices to AWS for analytics, ML, other processing
        - Data Firehose (KDF)
            - reliably load real-time streams into data lakes, warehouses, and analytical services
            - ETL service 
        - Data Analytics (KDA)
            - gain actionable insights from streaming data w serverless, fully managed Apache Flink
            - easiest way to transform + analyze streaming data in real-time
            - perform real-time analytics on KDS
    - Amazon Athena
        - interactive analytics service that makes analyzing data in S3 easier
        - uses Python or SQL
        - use case
            - run interactive ad hoc SQL quries against data in S3 w/o managing infra or clusters
            - can only query specific data formats, like JSON, CSV, and others; not necessarily all data types
- Additional AWS Security Services
    - AWS Config
        - compliance management
        - continually assesses, audits, evalutes configs + relationships of resources on AWS, on-prem and other clouds 
        - great tool to assess AWS environment
        - setup config rules to look for things like publicly accessable buckets, things w/o encryption, and get notified when those triggers are breached 
    - AWS Secrets Manager 
        - helps manage, retriev, and rotate db creds, API keys, & other secrets throughout their lifecycles
        - can be configured to automatically rotate secrets + on a specified schedule
        - encyprts protected text of secret using AWS KMS
        - improve security posture by removing hard-coded creds from app source code 
    - AWS Certificate Manager
    - AWS Systems Manager Patch Manager
        - automate patching of EC2 instances
        - install patches on regular basis by scheduling maintenance windows
        - view aggregate patch compliance using Explorer 
    - AWS IAM Identity Center (formerly AWS SSO)
        - securely create or connect workforce identities & manage access centrally across AWS accounts + apps 
            - AD should be used for managing users, either using AWS AD managed service or existing AD
            - external id provider can be used like AzureAD 
    - AWS Directory Service
        - Managed service for Microsoft Active Directory
        - AWS Directory Service for Microsoft Active Directory
            - need actual MAD in cloud that supports AD
        - AD connector
            - in the event of needing to allow access to on-prem AD
        - simple AD
            - low-scale, low-cost directory w basic AD compabitility or LDAP compatibility
    - AWS Resource Access Manager (RAM)
        - helps securely share AWS resources created in one AWS account w other AWS accounts 